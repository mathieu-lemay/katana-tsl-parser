from pathlib import Path

from katana_tsl_parser.models import ParamSetModel, PatchModel, TslModel

samples_folder = Path(__file__).parent.parent / "samples"


def test_model_can_parse_tsl_file() -> None:
    data = (samples_folder / "gojira_-_flying_whales.tsl").read_text()
    parsed = TslModel.parse_raw(data)

    assert parsed == TslModel(
        name="Gojira - Flying Whales",
        format_rev="0002",
        device="KATANA MkII",
        data=[
            [
                PatchModel(
                    memo="",
                    param_set=ParamSetModel(
                        # fmt: off
                        name="FlyWhalesClean",
                        patch0=["01", "02", "25", "35", "47", "00", "32", "32", "00", "00", "32", "32", "32", "32", "32", "00", "01", "08", "2E", "0A", "34", "33", "48", "47", "5A", "00", "01", "00", "32", "00", "01", "01", "05", "64", "00", "00", "32", "32", "05", "05", "32", "32", "32", "07", "0A", "0A", "02", "00", "01", "00", "04", "13", "0B", "01", "11", "13", "01", "15", "16", "09", "1C", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18",],
                        fx1=["01", "03", "01", "01", "1C", "23", "23", "00", "32", "01", "5B", "32", "24", "1E", "00", "32", "00", "64", "00", "64", "64", "00", "00", "3C", "64", "48", "2C", "00", "00", "1E", "0B", "0A", "1E", "14", "14", "14", "14", "14", "14", "14", "14", "14", "14", "14", "00", "14", "0D", "01", "14", "17", "01", "14", "14", "0E", "14", "02", "32", "32", "32", "32", "2D", "32", "3C", "00", "28", "50", "28", "32", "32", "19", "00", "00", "3E", "64", "00", "01", "24", "3C", "00", "00", "46", "01", "18", "28", "00", "00", "46", "00", "64", "01", "0C", "00", "00", "46", "07", "00", "00", "50", "00", "64", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "01", "32", "32", "10", "4B", "64", "23", "00", "50", "28", "37", "00", "00", "64", "00", "1F", "28", "52", "32", "00", "00", "3C", "00", "46", "5A", "41", "32", "01", "1E", "55", "00", "00", "3C", "32", "64", "3C", "64", "00", "32", "32", "32", "00", "50", "2D", "01", "00", "32", "00", "32", "64", "64", "01", "00", "02", "32", "50", "64", "32", "64", "04", "1C", "2E", "03", "4B", "12", "30", "03", "41", "50", "32", "32", "32", "32", "32", "01", "32", "2D", "32", "32", "50", "64", "00", "64", "64", "00", "00", "32", "32", "03", "10", "32", "64", "32", "00", "32", "00", "64", "24", "32", "64", "00",],
                        fx2=["01", "1D", "01", "01", "25", "23", "23", "00", "32", "01", "23", "32", "32", "3C", "00", "32", "00", "64", "00", "64", "64", "00", "02", "3D", "33", "3C", "38", "00", "00", "1E", "0B", "0A", "1E", "10", "11", "16", "15", "13", "12", "11", "10", "0B", "09", "1F", "00", "14", "0D", "01", "14", "17", "01", "14", "14", "0E", "14", "00", "32", "32", "32", "32", "2D", "32", "3C", "00", "28", "1E", "28", "32", "32", "19", "00", "00", "34", "64", "00", "01", "18", "3C", "00", "00", "46", "01", "18", "28", "00", "00", "46", "00", "64", "01", "0C", "00", "00", "46", "07", "00", "00", "50", "00", "64", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "01", "32", "32", "10", "32", "32", "32", "00", "46", "28", "37", "00", "00", "64", "00", "1F", "28", "52", "32", "00", "00", "3C", "00", "46", "55", "41", "32", "01", "1E", "55", "00", "00", "3C", "32", "46", "3C", "64", "00", "32", "32", "32", "00", "50", "2D", "01", "00", "32", "00", "32", "64", "64", "01", "00", "02", "32", "50", "64", "32", "64", "07", "0F", "10", "03", "4B", "11", "0C", "03", "41", "64", "32", "32", "32", "32", "32", "01", "32", "2D", "32", "32", "50", "64", "00", "64", "64", "00", "00", "32", "32", "03", "10", "32", "64", "32", "00", "32", "00", "64", "24", "32", "64", "00",],
                        delay1=["01", "00", "01", "55", "0F", "0B", "2C", "64", "32", "00", "64", "16", "0A", "32", "03", "10", "16", "0A", "32", "28", "37", "01", "00", "00", "00", "00",],
                        delay2=["01", "0A", "01", "20", "1E", "08", "32", "64", "32", "00", "64", "16", "0A", "32", "03", "10", "16", "0A", "32", "28", "37", "01", "00", "00", "00", "00",],
                        patch1=["01", "03", "2C", "01", "50", "00", "0E", "04", "42", "64", "00", "64", "00", "00", "00", "00", "00", "00", "00", "64", "00", "64", "64", "00", "24", "32", "64", "00", "64", "00", "64", "64", "00", "64", "01", "00", "32", "32", "01", "3F", "3D", "00", "00", "00", "00", "00", "00", "00", "64", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "0B", "0F", "05", "0A", "02", "04", "00", "06", "0D", "0C", "01", "07", "11", "08", "09", "12", "03", "0E", "10", "13", "00", "32", "00", "00", "07", "01", "00",],
                        patch2=["01", "00", "01", "00", "01", "02", "0A", "1D", "14", "03", "1D", "00", "0E", "00", "07", "0A", "03", "04", "03", "0A", "08", "0A", "00", "02", "01", "01", "02", "00", "00", "02", "02", "00", "02", "00", "04", "01",],
                        status=["01", "21", "5A", "34", "33", "48", "47", "11", "33", "0D", "1B", "25", "00", "02", "03", "01", "01", "03",],
                        knob_assign=["00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00",],
                        expression_pedal_assign=["00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00",],
                        expression_pedal_min_max=["00", "64", "00", "00", "00", "64", "00", "00", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "00", "00", "64", "00", "00", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "00", "00", "64", "00", "64", "00", "64",],
                        gafc_expression1_assign=["00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00",],
                        gafc_expression1_min_max=["00", "64", "00", "00", "00", "64", "00", "00", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "00", "00", "64", "00", "00", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "00", "00", "64", "00", "64", "00", "64"],
                        gafc_expression2_assign=["00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00",],
                        gafc_expression2_min_max=["00", "64", "00", "00", "00", "64", "00", "00", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "00", "00", "64", "00", "00", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "00", "00", "64", "00", "64", "00", "64",],
                        footswitch_assign=["00", "01"],
                        patch_mk2v2=["00", "00", "00", "18", "0D", "01", "18", "18", "0E", "18",],
                        contour1=["00", "32"],
                        contour2=["00", "32"],
                        contour3=["00", "32"],
                        eq2=["01", "01", "00", "14", "0E", "01", "14", "17", "01", "14", "14", "0E", "14", "10", "11", "1C", "1A", "16", "14", "12", "10", "06", "03", "2D",],
                        # fmt: on
                    ),
                ),
                PatchModel(
                    memo="",
                    param_set=ParamSetModel(
                        # fmt: off
                        name="FlyWhalesDirty",
                        patch0=["01", "0C", "00", "3B", "37", "00", "32", "32", "32", "00", "32", "32", "32", "32", "32", "00", "01", "0B", "49", "0A", "47", "37", "3B", "3F", "5E", "00", "01", "00", "32", "00", "01", "01", "05", "64", "00", "00", "32", "32", "05", "05", "32", "32", "32", "07", "0A", "0A", "02", "00", "01", "00", "06", "1A", "0C", "01", "15", "0E", "01", "14", "14", "0E", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18",],
                        fx1=["01", "03", "01", "01", "32", "23", "23", "00", "32", "01", "23", "32", "32", "3C", "00", "32", "00", "64", "00", "64", "64", "00", "05", "43", "32", "37", "31", "00", "00", "1E", "0B", "0A", "1E", "14", "14", "14", "14", "14", "14", "14", "14", "14", "14", "14", "00", "14", "0D", "01", "14", "17", "01", "14", "14", "0E", "14", "00", "32", "32", "32", "32", "2D", "32", "3C", "00", "28", "1E", "28", "32", "32", "19", "00", "00", "3E", "64", "00", "01", "18", "3C", "00", "00", "46", "01", "18", "28", "00", "00", "46", "00", "64", "01", "0C", "00", "00", "46", "07", "00", "00", "50", "00", "64", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "01", "32", "32", "10", "32", "32", "32", "00", "46", "28", "37", "00", "00", "64", "00", "1F", "28", "52", "32", "00", "00", "3C", "00", "46", "55", "41", "32", "01", "1E", "55", "00", "00", "3C", "32", "46", "3C", "64", "00", "32", "32", "32", "00", "50", "2D", "01", "00", "32", "00", "32", "64", "64", "01", "00", "02", "32", "50", "64", "32", "64", "04", "2B", "2E", "03", "4B", "21", "30", "03", "41", "50", "32", "32", "32", "32", "32", "01", "32", "2D", "32", "32", "50", "64", "00", "64", "64", "00", "00", "32", "32", "03", "10", "32", "64", "32", "00", "32", "00", "64", "24", "32", "64", "00",],
                        fx2=["00", "0E", "01", "01", "32", "23", "23", "00", "32", "01", "23", "32", "32", "3C", "00", "32", "00", "64", "00", "64", "64", "00", "00", "32", "32", "32", "32", "00", "18", "46", "09", "07", "48", "0C", "10", "15", "13", "17", "14", "15", "12", "0E", "08", "15", "00", "14", "0D", "01", "14", "17", "01", "14", "14", "0E", "14", "00", "32", "32", "32", "32", "2D", "32", "3C", "00", "28", "1E", "28", "32", "32", "19", "00", "03", "34", "64", "00", "01", "18", "3C", "00", "00", "46", "01", "18", "28", "00", "00", "46", "00", "64", "01", "0C", "00", "00", "46", "07", "00", "00", "50", "00", "64", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "18", "01", "32", "32", "10", "32", "32", "32", "00", "46", "28", "37", "00", "00", "64", "00", "1F", "28", "52", "32", "00", "00", "3C", "00", "46", "28", "41", "32", "01", "1E", "55", "00", "00", "3C", "32", "46", "3C", "64", "00", "32", "32", "32", "00", "50", "2D", "01", "00", "32", "00", "32", "64", "64", "01", "00", "02", "32", "50", "64", "32", "64", "04", "2B", "2E", "03", "4B", "21", "30", "03", "41", "50", "32", "32", "32", "32", "32", "01", "32", "2D", "32", "32", "50", "64", "00", "64", "64", "00", "00", "32", "32", "03", "10", "32", "64", "32", "00", "32", "00", "64", "24", "32", "64", "00",],
                        delay1=["00", "00", "03", "10", "23", "0C", "00", "64", "32", "00", "64", "16", "0A", "32", "03", "10", "16", "0A", "32", "28", "37", "01", "00", "00", "00", "00",],
                        delay2=["00", "00", "03", "10", "16", "0A", "32", "64", "32", "00", "64", "16", "0A", "32", "03", "10", "16", "0A", "32", "28", "37", "01", "00", "00", "00", "00",],
                        patch1=["01", "04", "0F", "00", "0A", "0E", "08", "05", "12", "64", "00", "64", "00", "00", "00", "00", "00", "00", "00", "64", "00", "64", "64", "00", "24", "32", "64", "00", "64", "00", "64", "64", "00", "64", "01", "00", "32", "32", "01", "32", "0D", "00", "00", "00", "00", "00", "00", "00", "64", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "0B", "0F", "05", "0A", "02", "04", "00", "06", "0D", "0C", "01", "07", "11", "08", "09", "12", "03", "0E", "10", "13", "00", "32", "00", "00", "07", "01", "00",],
                        patch2=["01", "00", "01", "00", "0C", "0B", "0E", "03", "14", "13", "0E", "00", "0E", "00", "07", "08", "04", "05", "03", "00", "07", "08", "02", "02", "02", "00", "00", "00", "00", "00", "02", "00", "02", "00", "04", "02",],
                        status=["02", "42", "5E", "47", "37", "3B", "3F", "01", "3D", "00", "00", "0A", "00", "01", "01", "00", "00", "01",],
                        knob_assign=["00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00",],
                        expression_pedal_assign=["00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00",],
                        expression_pedal_min_max=["00", "64", "00", "00", "00", "64", "00", "00", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "00", "00", "64", "00", "00", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "00", "00", "64", "00", "64", "00", "64",],
                        gafc_expression1_assign=["00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00",],
                        gafc_expression1_min_max=["00", "64", "00", "00", "00", "64", "00", "00", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "00", "00", "64", "00", "00", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "00", "00", "64", "00", "64", "00", "64",],
                        gafc_expression2_assign=["00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00", "00",],
                        gafc_expression2_min_max=["00", "64", "00", "00", "00", "64", "00", "00", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "00", "00", "64", "00", "00", "00", "64", "00", "64", "00", "64", "00", "64", "00", "64", "00", "00", "00", "64", "00", "64", "00", "64",],
                        footswitch_assign=["00", "01"],
                        patch_mk2v2=["00", "00", "00", "18", "0D", "01", "18", "18", "0E", "18",],
                        contour1=["00", "32"],
                        contour2=["00", "32"],
                        contour3=["00", "32"],
                        eq2=["01", "01", "00", "14", "0E", "01", "14", "17", "01", "14", "14", "0E", "14", "0C", "13", "1B", "16", "15", "18", "1B", "18", "12", "0F", "20",],
                        # fmt: on
                    ),
                ),
            ]
        ],
    )
